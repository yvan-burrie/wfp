var Waveform;!function(t){var a;if("undefined"!=typeof AudioContext)a=new AudioContext;else{if("undefined"==typeof webkitAudioContext)return void console.log("Unable to run this Web Audio API example");a=new webkitAudioContext}Waveform={settings:{canvas_width:453,canvas_height:66,bar_width:3,bar_gap:.2,wave_start_color:"#ff7700",wave_end_color:"#ff2400",download:!1,shadow_height:70,shadow_start_color:"#ff7700",shadow_end_color:"#ff2400",shadow_opacity:.2,shadow_gap:1,onComplete:function(t,a){}},generate:function(t,e){this.settings.canvas=document.createElement("canvas"),this.settings.context=this.settings.canvas.getContext("2d"),this.settings.canvas.width=void 0!==e.canvas_width?parseInt(e.canvas_width):this.settings.canvas_width,this.settings.canvas.height=void 0!==e.canvas_height?parseInt(e.canvas_height):this.settings.canvas_height,this.settings.wave_start_color=void 0!==e.wave_start_color?e.wave_start_color:this.settings.wave_start_color,this.settings.wave_end_color=void 0!==e.wave_end_color?e.wave_end_color:this.settings.wave_end_color,this.settings.shadow_start_color=void 0!==e.shadow_start_color?e.shadow_start_color:this.settings.shadow_start_color,this.settings.shadow_end_color=void 0!==e.shadow_end_color?e.shadow_end_color:this.settings.shadow_end_color,this.settings.shadow_opacity=void 0!==e.shadow_opacity?parseFloat(e.shadow_opacity):this.settings.shadow_opacity,this.settings.shadow_gap=void 0!==e.shadow_gap?parseInt(e.shadow_gap):this.settings.shadow_gap,this.settings.bar_width=void 0!==e.bar_width?parseInt(e.bar_width):this.settings.bar_width,this.settings.bar_gap=void 0!==e.bar_gap?parseFloat(e.bar_gap):this.settings.bar_gap,this.settings.download=void 0!==e.download?e.download:this.settings.download,this.settings.onComplete=void 0!==e.onComplete?e.onComplete:this.settings.onComplete,this.settings.shadow_height=void 0!==e.shadow_height?parseFloat(e.shadow_height):this.settings.shadow_height;var s=new FileReader;Waveform.audioContext=a,s.onload=function(t){Waveform.audioContext.decodeAudioData(t.target.result,function(t){Waveform.extractBuffer(t)})},s.readAsArrayBuffer(t)},extractBuffer:function(t){t=t.getChannelData(0);for(var a=this.settings.canvas.width,e=Math.floor(t.length/a),s=[],i=this.settings.canvas.height-this.settings.shadow_height,n=0;n<a;n+=this.settings.bar_width)s.push(1e4*this.bufferMeasure(n*e,e,t));for(var o=0;o<a;o+=this.settings.bar_width){var r=i/Math.max.apply(Math,s),h=1e4*this.bufferMeasure(o*e,e,t);h*=r,h+=1,this.drawBar(o,h),this.settings.shadow_height>0&&(r=this.settings.shadow_height/Math.max.apply(Math,s),h=1e4*this.bufferMeasure(o*e,e,t),h*=r,h+=1,this.drawShadow(o,h))}this.settings.download&&this.generateImage(),this.settings.onComplete(this.settings.canvas.toDataURL("image/png"),this.settings.context.getImageData(0,0,this.settings.canvas.width,this.settings.canvas.height)),this.settings.context.clearRect(0,0,this.settings.canvas.width,this.settings.canvas.height)},bufferMeasure:function(t,a,e){for(var s=0,i=t;i<=t+a-1;i++)s+=Math.pow(e[i],2);return Math.sqrt(s/e.length)},drawBar:function(t,a){var e=this.settings.context.createLinearGradient(0,0,0,170);e.addColorStop(0,this.settings.wave_start_color),e.addColorStop(1,this.settings.wave_end_color),this.settings.context.fillStyle=e;var s=this.settings.bar_width;0!==this.settings.bar_gap&&(s*=Math.abs(1-this.settings.bar_gap));var i=t+s/2,n=this.settings.canvas.height-a;n-=this.settings.shadow_height,this.settings.context.fillRect(i,n,s,a)},drawShadow:function(t,a){var e=this.settings.context.createLinearGradient(0,0,0,170);e.addColorStop(0,this.settings.shadow_start_color),e.addColorStop(1,this.settings.shadow_end_color),this.settings.context.fillStyle=e;var s=this.settings.bar_width;0!==this.settings.bar_gap&&(s*=Math.abs(1-this.settings.bar_gap));var i=t+s/2,n=this.settings.canvas.height-this.settings.shadow_height;n+=this.settings.shadow_gap,this.settings.context.globalAlpha=this.settings.shadow_opacity,this.settings.context.fillRect(i,n,s,a),this.settings.context.globalAlpha=1},generateImage:function(){var t=this.settings.canvas.toDataURL("image/png"),a=document.createElement("a");a.href=t,a.setAttribute("download",""),a.click()}}}(jQuery),function(t){t(function(){a.init()});var a={showLogs:!1,round:1500,init:function(){if(this._log("init"),this._inited)return this._log("Already Inited"),void(this._inited=!0);this._requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,a){window.setTimeout(t,1e3/60)},this._onScroll(!0)},_inited:!1,_properties:["x","y","z","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","scale"],_requestAnimationFrame:null,_log:function(t){this.showLogs&&console.log("Parallax Scroll / "+t)},_onScroll:function(a){var e=t(document).scrollTop(),s=t(window).height();this._log("onScroll "+e),t("[data-parallax]").each(t.proxy(function(i,n){var o=t(n),r=[],h=!1,l=o.data("style");null==l&&(l=o.attr("style")||"",o.data("style",l));var d,c=[o.data("parallax")];for(d=2;o.data("parallax"+d);d++)c.push(o.data("parallax-"+d));var g=c.length;for(d=0;d<g;d++){var u=c[d],w=u["from-scroll"];null==w&&(w=Math.max(0,t(n).offset().top-s)),w|=0;var _=u.distance,f=u["to-scroll"];null==_&&null==f&&(_=s),_=Math.max(0|_,1);var v=u.easing,p=u["easing-return"];if(null!=v&&t.easing&&t.easing[v]||(v=null),null!=p&&t.easing&&t.easing[p]||(p=v),v){var m=u.duration;null==m&&(m=_),m=Math.max(0|m,1);var b=u["duration-return"];null==b&&(b=m),_=1;var x=o.data("current-time");null==x&&(x=0)}null==f&&(f=w+_),f|=0;var y=u.smoothness;null==y&&(y=30),y|=0,(a||0==y)&&(y=1),y|=0;var A=e;A=Math.max(A,w),A=Math.min(A,f),v&&(null==o.data("sens")&&o.data("sens","back"),A>w&&("back"==o.data("sens")?(x=1,o.data("sens","go")):x++),A<f&&("go"==o.data("sens")?(x=1,o.data("sens","back")):x++),a&&(x=m),o.data("current-time",x)),this._properties.map(t.proxy(function(a){var e=0,s=u[a];if(null!=s){"scale"==a||"scaleX"==a||"scaleY"==a||"scaleZ"==a?e=1:s|=0;var i=o.data("_"+a);null==i&&(i=e);var n=(A-w)/(f-w)*(s-e)+e,l=i+(n-i)/y;if(v&&x>0&&x<=m){var d=e;"back"==o.data("sens")&&(d=s,s=-s,v=p,m=b),l=t.easing[v](null,x,d,s,m)}(l=Math.ceil(l*this.round)/this.round)==i&&n==s&&(l=s),r[a]||(r[a]=0),r[a]+=l,i!=r[a]&&(o.data("_"+a,r[a]),h=!0)}},this))}if(h){if(null!=r.z){var C=u.perspective;null==C&&(C=800);var M=o.parent();M.data("style")||M.data("style",M.attr("style")||""),M.attr("style","perspective:"+C+"px; -webkit-perspective:"+C+"px; "+M.data("style"))}null==r.scaleX&&(r.scaleX=1),null==r.scaleY&&(r.scaleY=1),null==r.scaleZ&&(r.scaleZ=1),null!=r.scale&&(r.scaleX*=r.scale,r.scaleY*=r.scale,r.scaleZ*=r.scale);var F="translate3d("+(r.x?r.x:0)+"px, "+(r.y?r.y:0)+"px, "+(r.z?r.z:0)+"px)"+" "+("rotateX("+(r.rotateX?r.rotateX:0)+"deg) rotateY("+(r.rotateY?r.rotateY:0)+"deg) rotateZ("+(r.rotateZ?r.rotateZ:0)+"deg)")+" "+("scaleX("+r.scaleX+") scaleY("+r.scaleY+") scaleZ("+r.scaleZ+")")+";";this._log(F),o.attr("style","transform:"+F+" -webkit-transform:"+F+" "+l)}},this)),window.requestAnimationFrame?window.requestAnimationFrame(t.proxy(this._onScroll,this,!1)):this._requestAnimationFrame(t.proxy(this._onScroll,this,!1))}}}(jQuery),jQuery.ajaxTransport("+binary",function(t,a,e){if(window.FormData&&(t.dataType&&"binary"==t.dataType||t.data&&(window.ArrayBuffer&&t.data instanceof ArrayBuffer||window.Blob&&t.data instanceof Blob)))return{send:function(a,e){var s=new XMLHttpRequest,i=t.url,n=t.type,o=t.async||!0,r=t.responseType||"blob",h=t.data||null,l=t.username||null,d=t.password||null;for(var c in s.addEventListener("load",function(){var a={};a[t.dataType]=s.response,e(s.status,s.statusText,a,s.getAllResponseHeaders())}),s.open(n,i,o,l,d),a)s.setRequestHeader(c,a[c]);s.responseType=r,s.send(h)},abort:function(){e.abort()}}}),function(t){var a=t(window);t.fn.visible=function(t,e,s){if(!(this.length<1)){var i=this.length>1?this.eq(0):this,n=i.get(0),o=a.width(),r=a.height(),h=(s=s||"both",!0!==e||n.offsetWidth*n.offsetHeight);if("function"==typeof n.getBoundingClientRect){var l=n.getBoundingClientRect(),d=l.top>=0&&l.top<r,c=l.bottom>0&&l.bottom<=r,g=l.left>=0&&l.left<o,u=l.right>0&&l.right<=o,w=t?d||c:d&&c,_=t?g||u:g&&u;if("both"===s)return h&&w&&_;if("vertical"===s)return h&&w;if("horizontal"===s)return h&&_}else{var f=a.scrollTop(),v=f+r,p=a.scrollLeft(),m=p+o,b=i.offset(),x=b.top,y=x+i.height(),A=b.left,C=A+i.width(),M=!0===t?y:x,F=!0===t?x:y,R=!0===t?C:A,q=!0===t?A:C;if("both"===s)return!!h&&v>=F&&M>=f&&m>=q&&R>=p;if("vertical"===s)return!!h&&v>=F&&M>=f;if("horizontal"===s)return!!h&&m>=q&&R>=p}}}}(jQuery);